(()=>{"use strict";function r(r){let t=0;return{length:r,hit:function(){t+=1},isSunk:function(){return t>=r}}}function t(){const t={carrier:r(5),battleship:r(4),destroyer:r(3),submarine:r(3),patrolBoat:r(2)},e=10;let o=Array.from({length:e},(()=>Array(e).fill(null)));return{getBoard:function(){return o},placeShip:function(r,n,a){if(r<0||r>=e)throw new Error("Row out of board");if(n<0||n>=e)throw new Error("Column out of board");const i=t[a].length;if(r+i>e)throw new Error("Ship does not fit");const c=o.slice();for(let t=r;t<r+i;t+=1)c[t][n]=a;o=c},receiveAttack:function(r,n){if(r<0||r>=e)throw new Error("Row out of board");if(n<0||n>=e)throw new Error("Column out of board");const a=o.slice();a[r][n]&&Object.keys(t).includes(a[r][n])?(t[a[r][n]].hit(),a[r][n]="hit"):a[r][n]||(a[r][n]="miss"),o=a},allIsSunk:function(){return Object.values(t).every((r=>r.isSunk()))}}}function e({name:r,gameboard:t,isComputer:e=!1}){return{name:r,attack:function(r,o){if(e){const[r,e]=function(){let r=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());for(;t.getBoard()[r][e];)r=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());return[r,e]}();t.receiveAttack(r,e)}else t.receiveAttack(r,o)}}}!function(){const r=function(){const r=t(),o=t();return r.placeShip(0,0,"carrier"),r.placeShip(0,1,"battleship"),r.placeShip(4,2,"destroyer"),r.placeShip(6,6,"submarine"),r.placeShip(8,9,"patrolBoat"),o.placeShip(0,9,"carrier"),o.placeShip(2,0,"battleship"),o.placeShip(0,2,"destroyer"),o.placeShip(3,6,"submarine"),o.placeShip(5,9,"patrolBoat"),{player1:e({name:"John",player2Board:o}),player2:e({name:"Computer",player1Board:r,isComputer:!0}),player1Board:r,player2Board:o}}();document.querySelector("body").appendChild(function(r){const t=document.createElement("div");return t.classList.add("board"),r.forEach((r=>r.forEach((r=>{const e=document.createElement("button");e.innerText=r,t.appendChild(e)})))),t}(r.player1Board.getBoard()))}()})();